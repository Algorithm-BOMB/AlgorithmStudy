# 비트마스크
## 비트마스크란?
- 비트마스크(BitMask)는 이진수를 사용하는 컴퓨터의 연산 방식을 이용하여, 정수의 이진수 표현을 자료 구조로 쓰는 기법을 말한다. 
- 이진수는 0 또는 1을 이용하므로 하나의 비트(bit)가 표현할 수 있는 경우는 두 가지이다. 
- 보통 어떤 비트가 1이면 "켜져 있다"라고 말하며, 0이면 "꺼져 있다"라고 말한다.  


## 비트 마스크의 장점
1. 수행 시간이 빠르다.  
비트마스크 연산은 bit 연산이기 때문에 O(1)에 구현되는 것이 많다. 따라서 다른 자료구조를 이용하는 것보다 훨씬 빠르게 동작하게 된다.  <br>
다만, 비트마스크를 이용하는 경우에는 비트의 개수만큼 원소를 다룰 수 있기 때문에 연산 횟수가 적은 경우에는 속도에 큰 차이가 없지만, 연산 횟수가 늘어날수록 차이가 매우 커지게 된다.
<br>
2. 코드가 짧다.  
다양한 집합 연산들을 비트연산자로 한 줄로 작성할 수 있기 때문에 반복문, 조건문 등을 이용한 코드보다 훨씬 간결한 코드를 작성할 수 있다.
<br>
3. 메모리 사용량이 더 적다.  
비트마스크를 이용하는 가장 큰 이유라고 생각한다.  <br>
간단한 예시로, bit가 10개인 경우에는 각 bit당 두 가지 경우를 가지기 때문에 210가지의 경우를 10bit 이진수 하나로 표현이 가능하다.  <br>
이처럼 하나의 정수로 매우 많은 경우의 수를 표현할 수 있기 때문에 메모리 측면에서 효율적이며, 더 많은 데이터를 미리 계산해서 저장해 둘 수 있는 장점이 있다. (DP에 매우 유용하다)

## 비트 연산

### AND 연산(&)
대응하는 숫자가 모두 1일 경우 1을 반환합니다.
```python
bin(0b1010011010 & 0b1101101100)  # 0b1000001000
```

### OR 연산 (|)
대응하는 숫자중 하나라도 1일 경우 1을 반환합니다.

```python
bin(0b1010011010 | 0b1101101100)  # 0b1111111110
```

### XOR 연산 (^)
대응하는 숫자가 서로 다를 경우 1을 반환합니다.
```python
bin(0b1010011010 ^ 0b1101101100)  # 0b111110110
```

### SHIFT 연산 (>>, <<)
a << b는 a의 비트를 b칸 만큼 왼쪽으로 밀어 내는 것이고, a >> b는 a의 비트를 b칸 만큼 오른쪽으로 밀어내는 것 입니다.

```python
bin(0b0010 << 2)  # 0b1000
bin(0b1100 >> 2)  # 0b11
```

### NOT 연산 (~)
비트 값을 반전시킵니다.

```python
bin(~0b0010 << 2)  # 0b1101
```

## 비트 연산 응용

### 원소 추가 
n번째 수를 추가 하고자 할 때

```python
n = 3
print(bin(0b0010 | (1 << n)))  #  0b1010
```

### 원소 제거
n번째 수를 제거 하고자 할 때

```python
n = 3
print(bin(0b1010 & ~(1 << n)))  #  0b10
```

### 원소 조회
n번째 수가 있나 없나 확인 할 때 (0이면 없고, 1 이상이면 있는 것)

```python
n = 3
print(bin(0b1010 & (1 << n)))  #  0b1000
```

### 원소 토글
n번째 수를 켜져 있으면 끄고, 꺼져 있으면 켬

```python
n = 3
print(bin(0b1010 ^ (1 << n)))  #  0b10
```

## 풀만한 알고리즘 문제

### 연습
- [백준 12813번 이진수 연산](https://www.acmicpc.net/problem/12813) : 비트 연산으로 간단하게 해결 가능.
### 실전
- [백준 1562번 계단 수](https://www.acmicpc.net/problem/1562) : 0~9를 모두 순회했는지 비트마스크로 확인
- [백준 2098번 외판원 순회](https://www.acmicpc.net/problem/2098) : 모든 경로를 순회했는지 비트마스크로 확인
